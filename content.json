{"meta":{"title":"我的博客","subtitle":null,"description":"想想光头强，想想辉泰朗，在想想汤姆猫，我有什么理由放弃。","author":"王小瘦","url":"http://yoursite.com"},"pages":[{"title":"分类","date":"2018-02-28T02:09:13.000Z","updated":"2020-07-03T02:59:28.102Z","comments":false,"path":"categories/index.html","permalink":"http://yoursite.com/categories/index.html","excerpt":"","text":""},{"title":"关于我","date":"2018-02-28T02:12:26.000Z","updated":"2020-07-03T02:59:28.102Z","comments":true,"path":"about/index.html","permalink":"http://yoursite.com/about/index.html","excerpt":"","text":"QQ:785478075微信：wj_tq1314电话：18225380928"},{"title":"标签","date":"2018-02-28T02:08:43.000Z","updated":"2020-07-03T02:59:28.104Z","comments":false,"path":"tags/index.html","permalink":"http://yoursite.com/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"gulp添加版本功能笔记","slug":"gulp添加版本功能笔记","date":"2018-04-14T00:57:16.000Z","updated":"2020-07-03T02:59:28.101Z","comments":false,"path":"2018/04/14/gulp添加版本功能笔记/","link":"","permalink":"http://yoursite.com/2018/04/14/gulp添加版本功能笔记/","excerpt":"使用Gulp添加版本功能笔记","text":"使用Gulp添加版本功能笔记 安装gulp和gulp插件12345npm install --save-dev gulpnpm install --save-dev gulp-revnpm install --save-dev gulp-rev-collectornpm install --save-dev gulp-asset-revnpm install --save-dev run-sequence 编写gulpfile.js 此文件包含编译less，压缩、重命名css和js，同时可以压缩html并自动添加版本号的gulp.js配置文件123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121//引入gulp和gulp插件var gulp = require('gulp'), less = require('gulp-less'), assetRev = require('gulp-asset-rev'), minifyCss = require('gulp-minify-css'), uglify = require('gulp-uglify'), htmlmin = require('gulp-htmlmin'), rename = require('gulp-rename'), imagemin = require('gulp-imagemin'), runSequence = require('run-sequence'), rev = require('gulp-rev'), revCollector = require('gulp-rev-collector'); //定义css、js源文件路径var cssSrc = 'css/*.css', cssMinSrc = 'dist/css/*.css', jsSrc = 'js/*.js', jsMinSrc = 'dist/js/*.js', lessSrc = 'less/*.less', imgMinSrc = 'dist/images/*.&#123;png,jpg,gif,ico&#125;', htmlSrc = '*.html'; //编译less 定义一个less任务（自定义任务名称）gulp.task('less', function()&#123; return gulp.src(lessSrc) //该任务针对的文件 .pipe(less()) //该任务调用的模块 .pipe(gulp.dest('css'));//编译后的路径&#125;); //为css中引入的图片/字体等添加hash编码gulp.task('assetRev', function()&#123; return gulp.src(cssSrc) //该任务针对的文件 .pipe(assetRev()) //该任务调用的模块 .pipe(gulp.dest('src')); //编译后的路径&#125;); //压缩cssgulp.task('cssMin', function() &#123; return gulp.src(cssSrc) //压缩的文件 .pipe(rename(&#123;suffix: '.min'&#125;)) .pipe(minifyCss()) //执行压缩 .pipe(gulp.dest('dist/css')); //输出文件夹&#125;); //CSS生成文件hash编码并生成 rev-manifest.json文件名对照映射gulp.task('revCss', function()&#123; return gulp.src(cssMinSrc) .pipe(rev()) //文件名加MD5后缀 .pipe(rev.manifest()) //必须有这个方法 生成一个rev-manifest.json .pipe(gulp.dest('dist/css')); //将rev-manifest.json 保存到 dist/css 目录内&#125;); //压缩jsgulp.task('uglify',function()&#123; return gulp.src(jsSrc) .pipe(rename(&#123;suffix: '.min'&#125;)) .pipe(uglify()) .pipe(gulp.dest('dist/js'));&#125;); //js生成文件hash编码并生成 rev-manifest.json文件名对照映射gulp.task('revJs', function()&#123; return gulp.src(jsMinSrc) .pipe(rev()) .pipe(rev.manifest()) .pipe(gulp.dest('dist/js'));&#125;); //压缩htmlgulp.task('htmlMin',function()&#123; var options = &#123; collapseWhitespace:true, //从字面意思应该可以看出来，清除空格，压缩html，这一条比较重要，作用比较大，引起的改变压缩量也特别大。 collapseBooleanAttributes:true, //省略布尔属性的值，比如：&lt;input checked=\"checked\"/&gt;,那么设置这个属性后，就会变成 &lt;input checked/&gt;。 removeComments:true, //清除html中注释的部分，我们应该减少html页面中的注释。 removeEmptyAttributes:true, //清除所有的空属性。 removeScriptTypeAttributes:true, //清除所有script标签中的type=\"text/javascript\"属性。 removeStyleLinkTypeAttributes:true, //清楚所有Link标签上的type属性。 minifyJS:true, //压缩html中的javascript代码。 minifyCSS:true //压缩html中的css代码。 &#125;; return gulp.src(htmlSrc) .pipe(htmlmin(options)) .pipe(gulp.dest('dist/html'));&#125;); //Html替换css、js文件版本gulp.task('revHtml', function () &#123; return gulp.src(['dist/**/*.json', 'dist/html/*.html']) .pipe(revCollector()) .pipe(gulp.dest('dist/html'));&#125;); //压缩imagegulp.task('imageMin', function () &#123; gulp.src('images/*.&#123;png,jpg,gif,ico&#125;') .pipe(imagemin()) .pipe(gulp.dest('dist/images'));&#125;); gulp.task('revImage', function()&#123; return gulp.src(imgMinSrc) .pipe(rev()) .pipe(rev.manifest()) //必须有这个方法 .pipe(gulp.dest('dist/images'));&#125;); gulp.task('default', function (done) &#123; //condition = false; runSequence( //此处不能用gulp.run这个最大限度并行(异步)执行的方法，要用到runSequence这个串行方法(顺序执行)才可以在运行gulp后顺序执行这些任务并在html中加入版本号 'less', 'assetRev', 'cssMin', 'revCss', 'uglify', 'revJs', 'imageMin', 'revImage', 'htmlMin', 'revHtml', done);&#125;); 修改配置文件更改gulp-rev和gulp-rev-collector 打开node_modules\\gulp-rev\\index.js 第144行 manifest[originalFile] = revisionedFile; 更新为: manifest[originalFile] = originalFile + ‘?v=’ + file.revHash;打开nodemodules\\gulp-rev\\nodemodules\\rev-path\\index.js 10行 return filename + ‘-‘ + hash + ext; 更新为: return filename + ext;打开node_modules\\gulp-rev-collector\\index.js 31行 if ( !.isString(json[key]) || path.basename(json[key]).replace(new RegExp( opts.revSuffix ), ‘’ ) !== path.basename(key) ) { 更新为: if ( !.isString(json[key]) || path.basename(json[key]).split(‘?’)[0] !== path.basename(key) ) {打开node_modules\\gulp-assets-rev\\index.js 78行 var verStr = (options.verConnecter || “-“) + md5; 更新为：var verStr = (options.verConnecter || “”) + md5; 80行 src = src.replace(verStr, ‘’).replace(/(.[^.]+)$/, verStr + “$1”); 更新为：src=src+”?v=”+verStr; 继续更改gulp-rev-collector打开node_modules\\gulp-rev-collector\\index.js 第107行 regexp: new RegExp( ‘([\\/\\\\\\’”])’ + pattern, ‘g’ ), 更新为: regexp: new RegExp( ‘([\\/\\\\\\’”])’ + pattern+’(\\?v=\\w{10})?’, ‘g’ ),","categories":[{"name":"笔记","slug":"笔记","permalink":"http://yoursite.com/categories/笔记/"},{"name":"打包工具","slug":"笔记/打包工具","permalink":"http://yoursite.com/categories/笔记/打包工具/"}],"tags":[{"name":"gulp","slug":"gulp","permalink":"http://yoursite.com/tags/gulp/"}]},{"title":"Glup学习笔记","slug":"Glup学习笔记","date":"2018-03-02T07:16:17.000Z","updated":"2020-07-03T02:59:28.100Z","comments":false,"path":"2018/03/02/Glup学习笔记/","link":"","permalink":"http://yoursite.com/2018/03/02/Glup学习笔记/","excerpt":"使用Gulp打包压缩Html、Css、Js","text":"使用Gulp打包压缩Html、Css、Js node.js 安装 淘宝镜像的安装：npm install -g cnpm –registry=https://registry.npm.taobao.org 全局安装gulp:cnpm install –global gulp 项目安装gulp:cnpm install –save-dev gulp 初始化一个package.json文件：gulp init 然后执行:cnpm install gulp –save-dev 项目安装gulp插件如编译less文件:cnpm install –save-dev gulp-less （less编译）123456789cnpm install --save-dev gulp-sass （sass编译）cnpm install --save-dev gulp-uglify （JS压缩）cnpm install --save-dev gulp-minify-html（html压缩）cnpm install --save-dev gulp-concat （js文件合并）cnpm install –-save-dev gulp-imagemin （图片压缩）cnpm install --save-dev gulp-babel (es6语法)npm install --save-dev gulp-babel babel-preset-env (es6语法)cnpm install --save-dev babel-preset-es2015 (es6转换es5)cnpm install --save-dev gulp-connect (自动刷新) 删除安装的外挂： 首先在全局安装npm i -g rimraf；然后转到你的根目录输入 rimraf -rf node_modules/package(package 依旧是外挂名字 比如 gulp-less);","categories":[{"name":"笔记","slug":"笔记","permalink":"http://yoursite.com/categories/笔记/"},{"name":"打包工具","slug":"笔记/打包工具","permalink":"http://yoursite.com/categories/笔记/打包工具/"}],"tags":[{"name":"gulp","slug":"gulp","permalink":"http://yoursite.com/tags/gulp/"}]},{"title":"Hexo 多台电脑配置","slug":"Hexo多台电脑配置","date":"2018-03-02T07:16:17.000Z","updated":"2020-07-03T03:11:27.866Z","comments":false,"path":"2018/03/02/Hexo多台电脑配置/","link":"","permalink":"http://yoursite.com/2018/03/02/Hexo多台电脑配置/","excerpt":"Hexo 多台电脑配置","text":"Hexo 多台电脑配置","categories":[{"name":"笔记","slug":"笔记","permalink":"http://yoursite.com/categories/笔记/"},{"name":"hexo","slug":"笔记/hexo","permalink":"http://yoursite.com/categories/笔记/hexo/"}],"tags":[{"name":"hexo","slug":"hexo","permalink":"http://yoursite.com/tags/hexo/"}]},{"title":"MarkDown语法学习笔记","slug":"MarkDown语法学习笔记","date":"2018-02-28T06:03:05.000Z","updated":"2020-07-03T02:59:28.100Z","comments":true,"path":"2018/02/28/MarkDown语法学习笔记/","link":"","permalink":"http://yoursite.com/2018/02/28/MarkDown语法学习笔记/","excerpt":"关于Markdown的使用手册","text":"关于Markdown的使用手册 标题 用#标记 在 标题开头 加上1~6个#，依次代表一级标题、二级标题….六级标题#一级标题 ##二级标题###三级标题#####四级标题######五级标题######六级标题 用=和-标记 在 标题底下 加上任意个=代表一级标题，-代表二级标题 This is an H1 =============This is an H2 ————- 列表1.无序列表：在文字前加上 *、-或+即可变成无序列表 *red +blue -green 2.有序列表：在文字前加上1.2.3.即可变成有序列表 red blue green 注：符号和文字之间加上一个字符的空格 引用引用以&gt;来表示，引用中支持多级引用、标题、列表、代码块、分割线等常规语法。 这是一段引用 //在&gt;后面有 1 个空格 这是引用的代码块形式 //在`&gt;`后面有 5 个空格 代码例子： protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); } 一级引用 二级引用 三级引用 分割线在一行中用三个以上的*、-、_来建立一个分隔线 强调两个或_代表加粗，一个或-代表斜体，~~代表删除 加粗文本 或者 加粗斜体 或者 _斜体_删除注：前后都需要添加 #图片与链接 图片为:1![Alt text](/path/to/img.jpg &quot;Optional title&quot;) Alt text 为如果图片无法显示时显示的文字 /path/to/img.jpg 为图片所在路径 路径可以使用绝对路径也可以使用相对路径，建议使用绝对路径 Optional title 显示标题。显示效果为在你将鼠标放到图片上后，会显示一个小框提示，提示内容就是Option title 里的内容 迁入HTML代码 123456&lt;img scr=&quot;./xxx.png&quot; width = &quot;300&quot; height = &quot;200&quot; alt = &quot;图片名称&quot; align = center /&gt;*&lt;div align=&quot;center&quot;&gt; &lt;img/&gt;&lt;/div&gt; 链接为： 1[]() 换行1&lt;br&gt;","categories":[{"name":"笔记","slug":"笔记","permalink":"http://yoursite.com/categories/笔记/"}],"tags":[{"name":"MarkDown","slug":"MarkDown","permalink":"http://yoursite.com/tags/MarkDown/"}]},{"title":"Hexo+github搭建博客笔记","slug":"Hexo-github搭建博客笔记","date":"2018-02-28T03:48:43.000Z","updated":"2020-07-03T02:59:28.100Z","comments":false,"path":"2018/02/28/Hexo-github搭建博客笔记/","link":"","permalink":"http://yoursite.com/2018/02/28/Hexo-github搭建博客笔记/","excerpt":"基于Hexo和github搭建的个人博客，安装过程及问题在此做的不定期整理，并会随时上传至github平台","text":"基于Hexo和github搭建的个人博客，安装过程及问题在此做的不定期整理，并会随时上传至github平台 #安装Nodenode官网下载 根据自己的Windows版本选择相应的安装文件，要是不知道，就安装32-bit的吧。如图： 保持默认设置即可，一路Next，安装很快就结束了。 然后我们检查一下是不是要求的组件都安装好了，同时按下Win和R，打开运行窗口。如图： 在新打开的窗口中输入cmd，敲击回车，打开命令行界面。（下文将直接用打开命令行来表示以上操作，记住哦~） 在打开的命令行界面中，输入：12node -vnpm -v 如果结果如下图所示，则说明安装正确，可以进行下一步了，如果不正确，则需要回头检查自己的安装过程。 #安装GitGit官网下载 和Node.js一样，设置都只需要保持默认 打开命令行，输入git –version检查是否安装正确,如图： github账户的注册和配置 登录进github GitHub官网 创建代码库登陆之后，点击页面右上角的加号，选择New repository 如图：进入代码库创建页面：在Repository name下填写 yourname.github.io 如图： 注意：比如我的github名称是qq785478075 ,这里你就填 qq785478075.github.io,如果你的名字是xujun，那你就填 xujun.github.io 安装Hexo 安装Hexo——确保电脑已经安装Node.js以及Git环境 命令行在git bash下输入 命令行输入： 12$ npm install -g hexo-cli #全局安装$ npm install hexo --save 查看是否安装成功 1$ hexo -v Hexo相关配置 123$ hexo init #初始化hexo$ npm install #安装所需要的组件(生成器)$ hexo s #运行 配置Hexo 配置身份信息 123$ git config -- golbal user.name \"yourname\"$ git config -- golbal user.email \"youremail\"$ ssh-keygen -t rsa -C \"youremail\" #生成密钥，密钥位置会给出提示 id_rsa.pub 配置身份信息 12345deploy: type: git repo: git@github.com:yourname/yourname.github.io.git branch；master注：这里的repo中填写的是SSH-Key 连接代码库登录Github，点击头像下的settings，添加ssh 新建一个new ssh key，将id_rsa.pub文件里的内容复制上去 输入 ssh -T git@github.com，测试添加ssh是否成功。如果看到Hi后面是你的用户名，就说明成功了 在生成以及部署文章之前，需要安装一个扩展：npm install hexo-deployer-git –save 使用编辑器编好文章，那么就可以使用命令：hexo d -g，生成以及部署了 假如ssh-key配置失败，那么只要以下步骤就能完全解决首先，清除所有的key-pairssh-add -Drm -r ~/.ssh删除你在github中的public-key重新生成ssh密钥对ssh-keygen -t rsa -C “xxx@xxx.com“ 备份分支源文件123456//git 文件添加git add .//git 提交git commit -m \"init\"//push到hexo分支git push origin hexo","categories":[{"name":"笔记","slug":"笔记","permalink":"http://yoursite.com/categories/笔记/"}],"tags":[{"name":"hexo","slug":"hexo","permalink":"http://yoursite.com/tags/hexo/"}]}]}