---
title: 小程序实现元素拖动效果
tags: [微信小程序]
categories: [微信小程序]
date: 2020-07-06 14:03:05
comments: false
---

实现客服按钮在页面区域可拖动功能;
<!-- more -->

效果图如下：
![](/images/2020-07-06_144728.png)

# 具体操作：

1. 首先要定义一个容器,使元素在这个容器范围内可来回拖动；
```html
<movable-area class="contact_box">
    <movable-view class="contact_conten" x="{{x}}" y="{{y}}" direction="vertical">
        <button open-type="contact" class="contact" bindcontact="handleContact">
            <image src="/img/customer_service.png" class="contact_icon"></image>
        </button>
    </movable-view>
</movable-area>
```

2. 修改css样式
```html
.contact_box{
  width: 100vw;
  height: 92vh;
  position: fixed; 
}
.contact_conten{
  width: fit-content;
  height: fit-content; 
  position: fixed; 
  z-index: 9999;
}

.contact{
  background: transparent;
  border-color:transparent;
  padding-left: 0;
  padding-right: 0;
}

.contact::after{
  border-color:transparent;
}

.contact .contact_icon{
  display: inline-block;
  width: 140rpx;
  height: 160rpx;
}
```

3. 修改js部分
```html
data:{
    y:wx.getSystemInfoSync().windowHeight,
    x:wx.getSystemInfoSync().windowWidth
}
```
微信 小程序官方文档说明
[<font color="red">官方链接</font>](https://developers.weixin.qq.com/miniprogram/dev/component/movable-view.html)
![](/images/2020-07-06_151027.png)